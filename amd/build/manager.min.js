define ("mod_coursecertificate/manager",["core/ajax","core/notification","core/templates","core/str"],function(a,b,c,d){var f={AUTOMATICSENDREGION:"[data-region='automaticsend-alert']",TOGGLEAUTOMATICSEND:"[data-action='toggle-automaticsend']"},g={LOADING:"core/loading",AUTOMATICSENDALERT:"mod_coursecertificate/automaticsend_alert"},h={UPDATEAUTOMATICSEND:"mod_coursecertificate_update_certificate_automaticsend"};function e(e){M.util.js_pending("mod_coursecertificate_toggle_automaticsend");var i=e.querySelector(f.TOGGLEAUTOMATICSEND).dataset,j=i.certificateid,k=i.automaticsend,l="0"===k,m=l?[{key:"confirmation",component:"admin"},{key:"enableautomaticsend",component:"coursecertificate"},{key:"confirm"},{key:"cancel"}]:[{key:"confirmation",component:"admin"},{key:"disableautomaticsend",component:"coursecertificate"},{key:"confirm"},{key:"cancel"}];d.get_strings(m).then(function(d){b.confirm(d[0],d[1],d[2],d[3],function(){c.render(g.LOADING,{visible:!0},"").then(function(b){e.innerHTML=b;return a.call([{methodname:h.UPDATEAUTOMATICSEND,args:{certificateid:j,automaticsend:l}}])[0]}).then(function(){return c.render(g.AUTOMATICSENDALERT,{certificateid:j,automaticsend:l},"")}).then(function(a){e.innerHTML=a;M.util.js_complete("mod_coursecertificate_toggle_automaticsend");return null})});return null}).fail(b.exception)}return{init:function init(){var a=document.querySelector(f.AUTOMATICSENDREGION);a.addEventListener("click",function(b){if(b.target&&b.target.matches(f.TOGGLEAUTOMATICSEND)){e(a)}})}}});
//# sourceMappingURL=manager.min.js.map
