define ("mod_coursecertificate/manager",["core/ajax","core/notification","core/templates","core/str"],function(a,b,c,d){var g={AUTOMATICSENDREGION:"[data-region='automaticsend-alert']",TOGGLEAUTOMATICSEND:"[data-action='toggle-automaticsend']",LOADING:".loading-overlay"},h={AUTOMATICSENDALERT:"mod_coursecertificate/automaticsend_alert"},i={UPDATEAUTOMATICSEND:"mod_coursecertificate_update_certificate_automaticsend"};function e(a,b){if(b){a.querySelector(g.LOADING).classList.remove("invisible")}else{a.querySelector(g.LOADING).classList.add("invisible")}}function f(f){M.util.js_pending("mod_coursecertificate_toggle_automaticsend");var j=f.querySelector(g.TOGGLEAUTOMATICSEND).dataset,k=j.certificateid,l=j.automaticsend,m="0"===l,n=m?[{key:"confirmation",component:"admin"},{key:"enableautomaticsend",component:"coursecertificate"},{key:"confirm"},{key:"cancel"}]:[{key:"confirmation",component:"admin"},{key:"disableautomaticsend",component:"coursecertificate"},{key:"confirm"},{key:"cancel"}];d.get_strings(n).then(function(d){b.confirm(d[0],d[1],d[2],d[3],function(){e(f,!0);a.call([{methodname:i.UPDATEAUTOMATICSEND,args:{certificateid:k,automaticsend:m}}])[0].then(function(){return c.render(h.AUTOMATICSENDALERT,{certificateid:k,automaticsend:m},"")}).then(function(a){f.innerHTML=a;M.util.js_complete("mod_coursecertificate_toggle_automaticsend");return null}).fail(b.exception)});return null}).fail(b.exception)}return{init:function init(){var a=document.querySelector(g.AUTOMATICSENDREGION);a.addEventListener("click",function(b){if(b.target&&b.target.matches(g.TOGGLEAUTOMATICSEND)){f(a)}})}}});
//# sourceMappingURL=manager.min.js.map
